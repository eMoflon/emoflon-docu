\newpage
\section{Setting up the workspace}
\genHeader

Nowadays, \emph{no one} writes a complex parser completely by hand. Although this is sometimes still necessary for syntactically challenging languages, most
parsers can be quickly whipped up using context-free \emph{string grammars}.\footnote{For simple cases, \emph{regular expressions} can also be used} These are
typically written in Extended Backus-Naur Form (EBNF)\define{EBNF}. ANTLR~\cite{ANTLR} is a tool that can generate a parser from this compact specification for
a host of target programming languages, including Java. Although ANTLR might not be the most efficient or powerful parser generator, it is open-source, well
documented and supported, and allows for a pragmatic and elegant fallback to Java when things get nasty and we have to resort to some dirty tricks to get our
job done.

A parser, of course, is based on whatever model it must work with. Given that we want to parse to and from a dictionary, we need to have the
\texttt{DictionaryLanguage} metamodel defined before starting. The dictionary is a relatively simple device, so you have three options to loading this project
into your workspace:

% Options
\begin{description}
% -- Metamodel Screenshots ---
\item[Option 1:] You can start a new metamodel project called \texttt{Dictionary} (Fig.~\ref{eclipse:startMetamodel}) and complete a
\texttt{DictionaryLanguage} package until it matches either Fig.~\ref{ea:dictLang} or Fig.~\ref{eclipse:dictLang}.\footnote{Review metamodel construction by
working through Part II: Ecore}

\begin{figure}[htbp]
\begin{center}
  \includegraphics[width=0.65\textwidth]{eclipse_startDictionary}
  \caption{Begin parser project}
  \label{eclipse:startMetamodel}
\end{center}
\end{figure}

\newpage

\vspace*{1cm}

\begin{figure}[htb]
\begin{center}
  \includegraphics[width=\textwidth]{ea_dictionaryMetamodel}
  \caption{TCreate the package in \texttt{My Working Set} with an eMoflon Ecore diagram of the same name.}
  \label{ea:dictLang}
\end{center}
\end{figure}

\vspace{1cm}

\begin{figure}[htb]
\begin{center}
  \includegraphics[width=0.8\textwidth]{eclipse_dictionaryMetamodel}
  \caption{\texttt{Dictionary} constructed in Eclipse \update}
  \label{eclipse:dictLang}
\end{center}
\end{figure}

\newpage

% -- Cheat Package(s)
\newpage
\item[Option 2:] You can download our cheat package and load \texttt{Dictionary} into your workspace using the Eclipse ``New" wizard
(Fig.~\ref{eclipse_cheatPackage}).

\vspace{0.5cm}

\begin{figure}[htbp]
\begin{center}
  \includegraphics[width=0.65\textwidth]{eclipse_loadDictionaryProject}
  \caption{Load a \texttt{Dictionary} project into your workspace}
  \label{eclipse_cheatPackage}
\end{center}
\end{figure}

\item[$\blacktriangleright$] Pressing \texttt{Finish} will load either a MOSL directory or \texttt{DictionaryLanguage.eap} file into a working set, depending on
your syntax choice (Fig.~\ref{ea:cheatLoaded} or Fig.~\ref{eclipse:cheatLoaded}).

\begin{figure}[htbp]
   \centering
      \subfloat[comment 1 \update]{
        \includegraphics[width=0.45\textwidth]{eclipse_loadedCheatPackageVisual}
        \label{ea:cheatLoaded}
      }
      \subfloat[Bugger. Comment 2]{
        \includegraphics[width=0.45\textwidth]{eclipse_loadedCheatPackageVisual}
        \label{eclipse:cheatLoaded}
      }
      \caption{}
\end{figure}


\clearpage
% -- Export/Import ----
\item[Option 3:] You can simply use the same \texttt{Dictionary} you used in part IV by exporting it to a new project. Read Part IV, Section 2 for detailed
review on how to do this in either syntax.

\end{description} 
% -- End

\vspace{0.5cm}

This metamodel is one of two that we'll be using to specify the transformation. After all, as discussed in the introduction of Part IV, TGGs \emph{always}
require a source and target graph, and this will represent our target. 

We recommend inspecting \texttt{DictionaryLanguage} until you feel comfortable with what you'll be working with. As you'll be able to see, a \texttt{Library}
can contain an unlimited number of \texttt{Shelf} and \texttt{Author} elements. Both of these are also connected to a \texttt{Dictionary} container which can
hold an unlimited number of \texttt{Entry} objects.

Our source metamodel will be eMoflon's standard \texttt{MocaTree} language. It basically combines concepts from a filesystem (folders and files), XML concepts
(text-only nodes and attributes), and a general indexed containment hierarchy.\footnote{This is done with an index attribute, which can be used to demand a
certain \emph{order} of nodes in an SDM which are otherwise not guaranteed by default.} It models a generic directory structure with a \texttt{Folder} able to
connect to other \texttt{Folders}, and may contain an unlimited number of \texttt{File} elements. Its Jaca code is provided by the Eclipse plugin and
automatically added to the Java build path.  We'll go into more detail about this later, so let's skip ahead to the next task: initializing the TGG project that
will drive our model-to-text transformation.

\jumpDual{initialize vis}{initialize tex}

\input{../1_settingWorkspace/vis_setWkspSrc}

\input{../1_settingWorkspace/tex_setWkspSrc}

\input{../1_settingWorkspace/addParserSrc}
