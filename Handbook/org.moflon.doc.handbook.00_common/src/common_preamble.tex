\documentclass[11pt, a4paper, oneside]{book}

\usepackage{fancyhdr}
\pagestyle{fancy}
\fancyhf{}

\usepackage[utf8]{inputenc}
\usepackage[english]{babel}
\usepackage{graphicx}
%\usepackage[extendedchars,filenameencoding=utf8]{grffile}
\usepackage[colorlinks,hyperindex,plainpages=false,breaklinks]{hyperref}
\usepackage{amssymb}
%\usepackage{wasysym} 
\usepackage{wrapfig}
\usepackage{enumerate}
\usepackage{placeins} % e.g., \FloatBarrier
\usepackage{subfig}   % e.g., subfloat (images next to each other)
%\usepackage{color}
\usepackage[usenames,dvipsnames,svgnames]{xcolor}
\usepackage{listings}
%\usepackage{upquote}
\usepackage{paralist} % e.g., '\begin{inparaenum}'
\usepackage[nodayofweek]{datetime}
\usepackage{chngcntr} % e.g., '\counterwithin'
\usepackage{xspace} % '\xspace'
\usepackage[]{todonotes} % e.g., '\todo'
\usepackage{cleveref} % e.g., '\Cref'
\usepackage{longtable} % e.g. '\begin{longtable}'
\usepackage{booktabs} % e.g., '\toprule'
\usepackage{siunitx} % e.g., '\SI'
%\usepackage{verbatim} % e.g., '\begin{comment}
\usepackage{titlesec} % Used for typesetting the part title pages
\usepackage{csquotes} % '\enquote'

%change the numbering of pictures and listings
\AtBeginDocument{\counterwithin{lstlisting}{section}}
\counterwithin{figure}{chapter}
\counterwithin{section}{chapter}
\counterwithin{subsection}{section}

\def\emoflonMail{contact@emoflon.org}
\def\eMoflonURL{www.emoflon.org}
\def\versionNumber{2.32.*}
\def\suggestedUpdateSiteType{beta} % beta, release

\def\eMoflonUpdateSite{\linkto{https://emoflon.github.io/eclipse-plugin/\suggestedUpdateSiteType/updatesite/}}
\def\eMoflonEAAddin{\linkto{https://emoflon.github.io/eclipse-plugin/\suggestedUpdateSiteType/updatesite/ea-ecore-addin.zip}}



\newcommand{\linkto}[1]{\linktoTwo{#1}{#1}}
\newcommand{\linktoTwo}[2]{\href{#1}{\textsf{#2}}}
\newcommand{\eMoflonContact}{\linktoTwo{mailto:\emoflonMail}{\emoflonMail}}
\newcommand{\eMoflonWebsite}{\linkto{\eMoflonURL}}

\newcommand{\eMoflonExamplesRepo}{\entity{e\-mof\-lon-ex\-amp\-les}\xspace}
\newcommand{\eMoflonToolRepo}{\entity{e\-mof\-lon-tool}\xspace}
\newcommand{\eMoflonDocuRepo}{\entity{e\-mof\-lon-docu}\xspace}

\newcommand{\eMonflonHandbookURL}[0]{\linkto{https://emoflon.github.io/eclipse-plugin/\suggestedUpdateSiteType/handbook/eMoflonHandbook_\versionNumber.pdf}}

\hypersetup{colorlinks=true,% 
    linkcolor=black,%
    citecolor=red,%
    filecolor=blue,% 
    menucolor=black,%
    urlcolor=black,%
    pdfauthor={The eMoflon Development Team},%
    pdftitle={The eMoflon \versionNumber{} Handbook}%
}

\input{../../org.moflon.doc.handbook.00_common/src/codestyles/Color}
\input{../../org.moflon.doc.handbook.00_common/src/codestyles/Default}
\input{../../org.moflon.doc.handbook.00_common/src/codestyles/MOSL}

\setlength{\parindent}{0pt} 
\setlength{\parskip}{0.3cm}

\def\idest{i.e.\xspace}
\def\eg{e.g.\xspace}
\def\cf{cf.\xspace}
\def\vs{vs.\xspace}

\newcommand{\shortcut}[1]{\enquote{#1}\xspace}

% To be used to describe how to navigate through menus (use \menuSep to separate the different levels of the menu)
\newcommand{\menuPath}[1]{\emph{#1}\xspace}
\newcommand{\menuSep}[0]{\ensuremath{\to\;\xspace}}

% To be used when a term is mentioned for the first time
\newcommand{\newconcept}[1]{\emph{#1}\xspace}

% To be used for concrete values or file names
\newcommand{\entity}[1]{\texttt{#1}\xspace}
\newcommand{\filename}[1]{\entity{#1}}

% This env. should be used for step-by-step instructions
\newenvironment{stepbystep}{\begin{itemize}[$\blacktriangleright$]}{\end{itemize}}

\hyphenation{me-ta-mo-del-ing Card-To-Ent-ry}
\hyphenation{att-ribute-Con-di-tions}
\hyphenation{Dictionary-Language}
\hyphenation{Learning-Box-Language}
\newcommand{\javaCode}[1]{\lstinline[language=Java]{#1}\xspace}
\newcommand{\moslTggCode}[1]{\lstinline{#1}\xspace}

% Use \raisebox{-.5ex}{<content>} to move the given content down by .5ex
\newcommand{\eMoflonMenuButton}[0]{\raisebox{-.5ex}{\includegraphics[height=1em]{../../org.moflon.doc.handbook.00_common/images/moflon_menu_cloud.png}}\xspace}
\newcommand{\eMoflonCreateNewIntegrationProjectIcon}[0]{\raisebox{-.5ex}{\includegraphics[height=1em]{../../org.moflon.doc.handbook.00_common/images/integrationProjectWizard.png}}\xspace}
\newcommand{\eMoflonCreateNewRepositoryProjectIcon}[0]{\raisebox{-.5ex}{\includegraphics[height=1em]{../../org.moflon.doc.handbook.00_common/images/integrationProjectWizard.png}}\xspace}
\newcommand{\eMoflonCreateTGGRuleIcon}[0]{\raisebox{-.5ex}{\includegraphics[height=1em]{../../org.moflon.doc.handbook.00_common/images/createTGGRuleIcon.png}}\xspace}
\newcommand{\eMoflonConfigureLoggingIcon}[0]{\raisebox{-.5ex}{\includegraphics[height=1em]{../../org.moflon.doc.handbook.00_common/images/logfile.png}}\xspace}
\newcommand{\eMoflonFullBuildIcon}[0]{\raisebox{-.5ex}{\includegraphics[height=1em]{../../org.moflon.doc.handbook.00_common/images/fullBuild.png}}\xspace}
\newcommand{\eMoflonIncrementalBuildIcon}[0]{\raisebox{-.5ex}{\includegraphics[height=1em]{../../org.moflon.doc.handbook.00_common/images/incrementalBuild.png}}\xspace}


% --- HEADER FUNCTIONS % --------------------------------------------------------------------------------------------------------------------------------------
% Default plain header; turn off all lines and colors; turn on page numbers for all
% The following line fixes the too small header height
% 'Package Fancyhdr Warning: \headheight is too small (12.0pt):'
\setlength{\headheight}{14pt}
\newcommand{\noHeader}{
    \fancyhead[R]{\thepage}
    \fancyhead[L]{}
    \renewcommand{\headrulewidth}{0pt}
}

% Common instruction header; Black
\newcommand{\genHeader}{
    \fancyhead[L]{}
    \renewcommand{\headrulewidth}{1.5pt}
    \renewcommand{\headrule}{\hbox to\headwidth{%
            \color{Black}\leaders\hrule height \headrulewidth\hfill}}
    \fancyfoot{}
}

% These words should appear in the glossary
\newcommand{\define}[1]{\marginpar{\small\emph{#1}}}

% Textual syntax EBNF statement format
\newcommand{\syntax}[1]{ \begin{quote} \small \texttt{#1} \end{quote}}	

\newcommand{\EclipseVersion}{Oxygen\xspace}
\newcommand{\JavaVersion}{1.8\xspace}
\newcommand{\EclipseDownloadLink}{\url{https://www.eclipse.org/downloads/eclipse-packages/}\xspace}


\titleclass{\part}{top}
\titleformat{\part}[display]{\Large\bfseries}{\titlerule[5pt]\vspace{3pt}\titlerule[2pt]\vspace{3pt}\MakeUppercase{\partname} \thepart}%
{0pt}%
{
    \flushright
    {\LARGE\bfseries An Introduction to Metamodelling\\
        and Graph Transformations}
    \noindent\rule[-1ex]{\textwidth}{5pt}\\[2.5ex]
    \hfill\emph{\LARGE\bfseries with eMoflon}\\
    \center
    \includegraphics[width=0.55\textwidth]{../../org.moflon.doc.handbook.00_common/images/eMoflon3}
    \flushleft
    \noindent\rule[-1ex]{0.5\textwidth}{1.5pt}\\[1.5 ex]
}%
{}
\newcommand{\chapterbreak}{\clearpage}

\input{../../org.moflon.doc.handbook.00_common/src/titlepage}
