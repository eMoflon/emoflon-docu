\documentclass[11pt, a4paper, oneside]{book}

\usepackage{fancyhdr}
\pagestyle{fancy}
\fancyhf{}

\usepackage[utf8]{inputenc}
\usepackage[english]{babel}
\usepackage{graphicx}
\usepackage[extendedchars,filenameencoding=utf8]{grffile}
\usepackage[colorlinks,hyperindex,plainpages=false,breaklinks]{hyperref}
\usepackage{amssymb}
\usepackage{wasysym} 
\usepackage{wrapfig}
\usepackage{enumerate}
\usepackage{placeins} % Necessary for \FloatBarrier
\usepackage{subfig}   % Necessary for subfloat (images next to each other)
\usepackage{color}
\usepackage[usenames,dvipsnames,svgnames]{xcolor}
\usepackage{listings}
\usepackage{upquote}
\usepackage{paralist}
\usepackage[nodayofweek]{datetime}
\usepackage{chngcntr}
\usepackage{xspace}
\usepackage[]{todonotes}
\usepackage{cleveref}
\usepackage{longtable}
\usepackage{booktabs}
\usepackage{siunitx}
\usepackage{verbatim}
\usepackage{titlesec}

%change the numbering of pictures and listings
\AtBeginDocument{\counterwithin{lstlisting}{section}}
\counterwithin{figure}{section}

%\setcounter{part}{-1}
\newcommand{\beginNewPart}[1]{%
    \newpage
    \noHeader
    \def\partTitle{#1}
    \input{../../org.moflon.doc.handbook.00_common/src/titlepage}
    {\let\newpage\relax\maketitle}
    \let\cleardoublepage\clearpage
    \setcounter{section}{0}%
    \newpage
}



\def\emoflonMail{contact@emoflon.org}
\def\eMoflonURL{www.emoflon.org}
\def\versionNumber{2.24.0}
\def\suggestedUpdateSiteType{beta} % beta, release

\def\eMoflonUpdateSite{\linkto{https://emoflon.github.io/eclipse-plugin/\suggestedUpdateSiteType/update-site2/}}
\def\eMoflonEAAddin{\linkto{https://emoflon.github.io/eclipse-plugin/\suggestedUpdateSiteType/update-site2/ea-ecore-addin.zip}}



%\include{common_definitions}
\newcommand{\linkto}[1]{\linktoTwo{#1}{#1}}
\newcommand{\linktoTwo}[2]{\href{#1}{\textsf{#2}}}
\newcommand{\eMoflonContact}{\linktoTwo{mailto:\emoflonMail}{\emoflonMail}}
\newcommand{\eMoflonWebsite}{\linkto{\eMoflonURL}}

\newcommand{\eMoflonExamplesRepo}{\entity{e\-mof\-lon-ex\-amp\-les}\xspace}
\newcommand{\eMoflonToolRepo}{\entity{e\-mof\-lon-tool}\xspace}
\newcommand{\eMoflonDocuRepo}{\entity{e\-mof\-lon-docu}\xspace}

\newcommand{\eMonflonHandbookURL}[0]{\linkto{https://emoflon.github.io/eclipse-plugin/\suggestedUpdateSiteType/handbook/eMoflonHandbook_\versionNumber.pdf}}
%\newcommand{\dlPartZero}{\eMonflonHandbookURL{0}}
%\newcommand{\dlPartOne}{\eMonflonHandbookURL{1}}
%\newcommand{\dlPartTwo}{\eMonflonHandbookURL{2}}
%\newcommand{\dlPartThree}{\eMonflonHandbookURL{3}}
%\newcommand{\dlPartFour}{\eMonflonHandbookURL{4}}
%\newcommand{\dlPartFive}{\eMonflonHandbookURL{5}}
%\setcounter{tocdepth}{2}
%\newcommand{\downloadLocation}[1]{{\scriptsize \texttt{URL of this document: #1}}}


\hypersetup{colorlinks=true,% 
    linkcolor=black,%
    citecolor=red,%
    filecolor=blue,% 
    menucolor=black,%
    urlcolor=black,%
    pdfauthor={The eMoflon Developer Team},%
    pdftitle={The eMoflon \versionNumber{} Handbook}%
}

\input{../../org.moflon.doc.handbook.00_common/src/codestyles/Color}
\input{../../org.moflon.doc.handbook.00_common/src/codestyles/Default}
\input{../../org.moflon.doc.handbook.00_common/src/codestyles/MOSL}

\setlength{\parindent}{0pt} 
\setlength{\parskip}{0.3cm}

\def\idest{i.e.\xspace}
\def\eg{e.g.\xspace}
\def\cf{cf.\xspace}
\def\vs{vs.\xspace}

\newcommand{\enquote}[1]{``#1''}
\newcommand{\shortcut}[1]{\enquote{#1}\xspace}

% To be used to describe how to navigate through menus (use \menuSep to separate the different levels of the menu)
\newcommand{\menuPath}[1]{\emph{#1}\xspace}
\newcommand{\menuSep}[0]{\ensuremath{\to\;\xspace}}

% To be used when a term is mentioned for the first time
\newcommand{\newconcept}[1]{\emph{#1}\xspace}

% To be used for concrete values or file names
\newcommand{\entity}[1]{\texttt{#1}\xspace}
\newcommand{\filename}[1]{\entity{#1}}

% This env. should be used for step-by-step instructions
\newenvironment{stepbystep}{\begin{itemize}[$\blacktriangleright$]}{\end{itemize}}

%
% @param 1 The name of the feature in singular
\newcommand{\insertNoteAboutOptionalFeatures}[1]{
    \emph{Note: #1 is an optional feature of eMoflon. 
        If you are in a hurry, just skip this section.}
}

\newcommand{\needsUpdate}[1]{\todo{\textbf{Maintenance required:} #1}}

\hyphenation{me-ta-mo-del-ing Card-To-Ent-ry}
\hyphenation{att-ribute-Con-di-tions}
\hyphenation{Dictionary-Language}
\hyphenation{Learning-Box-Language}
\newcommand{\javaCode}[1]{\lstinline[language=Java]{#1}\xspace}
\newcommand{\moslTggCode}[1]{\lstinline{#1}\xspace}

% Use \raisebox{-.5ex}{<content>} to move the given content down by .5ex
\newcommand{\eMoflonMenuButton}[0]{\raisebox{-.5ex}{\includegraphics[height=1em]{moflon_menu_cloud.png}}\xspace}
\newcommand{\eMoflonCreateNewIntegrationProjectIcon}[0]{\raisebox{-.5ex}{\includegraphics[height=1em]{integrationProjectWizard.png}}\xspace}
\newcommand{\eMoflonCreateNewRepositoryProjectIcon}[0]{\raisebox{-.5ex}{\includegraphics[height=1em]{integrationProjectWizard.png}}\xspace}
\newcommand{\eMoflonCreateTGGRuleIcon}[0]{\raisebox{-.5ex}{\includegraphics[height=1em]{createTGGRuleIcon.png}}\xspace}
\newcommand{\eMoflonConfigureLoggingIcon}[0]{\raisebox{-.5ex}{\includegraphics[height=1em]{logfile.png}}\xspace}
\newcommand{\eMoflonFullBuildIcon}[0]{\raisebox{-.5ex}{\includegraphics[height=1em]{fullBuild.png}}\xspace}
\newcommand{\eMoflonIncrementalBuildIcon}[0]{\raisebox{-.5ex}{\includegraphics[height=1em]{incrementalBuild.png}}\xspace}


% --- HEADER FUNCTIONS % --------------------------------------------------------------------------------------------------------------------------------------
% Default plain header; turn off all lines and colors; turn on page numbers for all
\newcommand{\noHeader}{
    \fancyhead[R]{\thepage}
    \fancyhead[L]{}
    \renewcommand{\headrulewidth}{0pt}
}

% Common instruction header; Black
\newcommand{\genHeader}{
    \fancyhead[L]{}
    \renewcommand{\headrulewidth}{1.5pt}
    \renewcommand{\headrule}{\hbox to\headwidth{%
            \color{Black}\leaders\hrule height \headrulewidth\hfill}}
    \fancyfoot{}
}

% These words should appear in the glossary
\newcommand{\define}[1]{\marginpar{\small\emph{#1}}}

% Textual syntax EBNF statement format
\newcommand{\syntax}[1]{ \begin{quote} \small \texttt{#1} \end{quote}}	

\renewcommand{\thesection}{\arabic{section}}

\newcommand{\EclipseVersion}{Neon\xspace}
\newcommand{\JavaVersion}{1.8\xspace}

\newcommand{\EclipseDownloadImage}{eclipseDownloadPage}
\newcommand{\EclipseDownloadLink}{\url{http://www.eclipse.org/downloads/index.php}\xspace}


\titleclass{\part}{top}
\titleformat{\part}[display]{\Large\bfseries}{\titlerule[5pt]\vspace{3pt}\titlerule[2pt]\vspace{3pt}\MakeUppercase{\partname} \thepart}%
{0pt}%
{
    \flushright
    {\LARGE\bfseries An Introduction to Metamodelling\\
        and Graph Transformations}
    \noindent\rule[-1ex]{\textwidth}{5pt}\\[2.5ex]
    \hfill\emph{\LARGE\bfseries with eMoflon}\\
    \center
    \includegraphics[width=0.55\textwidth]{eMoflon3}
    \flushleft
    \noindent\rule[-1ex]{0.5\textwidth}{1.5pt}\\[1.5 ex]
}%
{}
\newcommand{\chapterbreak}{\clearpage}

%%%%
% COMMANDS RELATED TO TEXTUAL SYNTAX OR SPLIT OF VISUAL AND TEXTUAL SYNTAX
%

%\newcommand{\disclaimerForTextualSyntax}{\fbox{\parbox{\textwidth}{
%Please note that the textual syntax is not as thoroughly tested as the visual syntax because most of our projects are built with the visual syntax.
%This means: Whenever something goes wrong even though you are sure to have followed the instructions precisely, do not hesitate to contact us via \eMoflonContact.
%}}}

% Visual instructions; Red header
%\newcommand{\visHeader}{
%	\fancyhead[L]{\color{RedOrange}\tiny \bf VISUAL}
%	\renewcommand{\headrulewidth}{1.5pt}
%	\renewcommand{\headrule}{\hbox to\headwidth{%
% 		\color{RedOrange}\leaders\hrule height \headrulewidth\hfill}}
%  	\fancyfoot{}
%}

% Text instructions; Blue header
%\newcommand{\texHeader}{
%	\fancyhead[L]{\color{CornflowerBlue}\tiny \bf TEXTUAL}
%	\renewcommand{\headrulewidth}{1.5pt}
%	\renewcommand{\headrule}{\hbox to\headwidth{%
%  		\color{CornflowerBlue}\leaders\hrule height \headrulewidth\hfill}}
%  	\fancyfoot{}
%}


% --- FORMATTING COMMANDS --------------------------------------------------------------------------------------------------------------------------------------
% 'Next..' jump links (bottom right)
%\newcommand{\jumpSingle}[1]{
%\fancyfoot[OR]{$\triangleright$ \hyperlink{#1}{\texttt{Next}}}
%}

%\newcommand{\jumpDual}[2]{
%\fancyfoot[RO]{ $\triangleright$ \hyperlink{#1}{\texttt{Next [visual]\hspace{0.2cm}}}%
% \\ $\triangleright$ \hyperlink{#2}{\texttt{Next [textual]}}}
%}