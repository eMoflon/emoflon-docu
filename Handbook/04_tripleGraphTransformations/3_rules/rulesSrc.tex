\newpage
\hypertarget{sec:Rules}{}
\section{Specifying TGG rules}
\genHeader

With our correspondence type now defined in the TGG schema, we can now specify a set of \emph{TGG rules}\define{TGG rules}to describe the simultaneous
evolution of the graph triple.

As dicussed in Section~\ref{sec:nutshell}, a TGG rule is quite similar to a SDM story pattern, following a \emph{precondition, postcondition}
format. This means we'll need to state:
\begin{itemize}
  \item What pattern must be matched (i.e., under which conditions can a rule be applied; `black' elements)
  \item The objects and links to be created when the rule is applied (i.e., which object must exist upon exit; `green' elements)
\end{itemize}

\vspace{0.5cm}

Note that the rules of a TGG only describe the simultaneous \emph{build-up} of each model. Unlike SDMs, they do not delete or modify any existing elements.
In other words, TGG rules are \emph{monotonic}.\define{Monotonic}This might seem surprising at first, and you might even think this is a terrible restriction.
The intention is that a TGG should only specify a consistency relation, and \emph{not} the forward and backward transformations directly, which are derived
automatically. In the end, modifications are not necessary on this level but can, of course, be used at the right place in the generated transformation.

Let's quickly think about what rules we need in order to successfully transform a \texttt{card} into an \texttt{entry}. We need to first take care of the
\texttt{box} and \texttt{dictionary} structures, where \texttt{box} will need at least one \texttt{partition} to manipulate its \texttt{card}s. If more than one
is created, those partitions will also need to have the appropriate \texttt{next} and \texttt{previous} link variables built. Conversely, given that
\texttt{Dictionary} is unsorted, it will be complete with its single object variable declaration. A second rule will be needed to transform the actual
\texttt{card} and \texttt{elements}. More precisely, there needs to be a one-to-one object creation (i.e., one \texttt{card} will need one \texttt{entry}),
complete with concatnation or splitting instructions of the contents (based on the transformation direction), and some mechanism to assign difficulty levels to
each \texttt{entry} or initial position of each \texttt{card}.

\jumpDual{rules vis}{rules tex}

\input{../3_rules/visRules}

\input{../3_rules/texRules}

\input{../3_rules/implementingIndexToLevel}
