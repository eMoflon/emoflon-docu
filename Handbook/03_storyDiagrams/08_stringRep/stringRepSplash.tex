\newpage
\hypertarget{sec:stringRep}{}
\section{String representations}
\genHeader

In the next SDM we shall create a string representation for all the contents in a single learning box. To accomplish this, we will have to iterate through 
every card, in every partition. The concept is similar to \texttt{Partition}'s \texttt{empty} method, except we'll need to create a nested \emph{for/each}
loop (Fig.~\ref{fig:goal_stringRep}). Further still, we'll need to call a helper method to add the contents of each card to \texttt{stringRep}.

\vspace{1cm}

\begin{figure}[htbp]
	\centering
	\includegraphics[width=0.3\textwidth]{goal_stringRep.pdf}
	\caption{Nested \emph{For Each} loops}
	\label{fig:goal_stringRep}
\end{figure}

\vspace{1cm}

As you can see, The first loop will match to all partitions, which then loops to match each card. Each card will then call our second kind of activity, a
\emph{statement}, to invoke the \texttt{addToStringRep()} method. 

\vspace{0.5cm}

While we declared \texttt{addToStringRep()} in Part II, we didn't complete it. Analogously to how you implemented \texttt{determineNextSize} in the
previous section, quickly edit the \texttt{Box.impl} partial class again with the code in Fig.~\ref{code:addToStringRep_inject_file} and rebuild your project.
Confirm the changes in \texttt{Box.impl}, and you'll be ready to start.

\newpage

\vspace*{3cm}

\begin{figure}[h!]
        \centering
        \begin{lstlisting}[language=Java, keywordstyle={\bfseries\color{purple}}, backgroundcolor=\color{white}]
    @model addToStringRep (Card card) <--

            StringBuilder sb = new StringBuilder();

            if (stringRep == null)
            {
                sb.append("BoxContent: [");

            }
            else
            {
                sb.append(stringRep);
                sb.append(", [");
            }

            sb.append(card.getFace());
            sb.append(", ");
            sb.append(card.getBack());
            sb.append("]");

            stringRep = sb.toString();
    -->
        \end{lstlisting}
        \caption{Extending \texttt{Box}'s \emph{partial class}}
        \label{code:addToStringRep_inject_file}
    \end{figure}
    \FloatBarrier

\jumpDual{stringRep vis}{stringRep tex}

\input{../08_stringRep/visStringRep}

\input{../08_stringRep/texStringRep}
