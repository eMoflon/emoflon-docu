\newpage
\section{Conditional branching}
\genHeader
\hypertarget{sec:conBran}{}

{\bf \large This is appendix content}

\vspace{1cm}

When working with SDMs, you often need to choose between two different patterns based on the return value of an arbitrary (black box) operation.
This [conditional branching] is like the normal \texttt{Success}/\texttt{Failure} construction but, instead of depending on a \emph{pattern match}, the decision
can be implemented with as another SDM or standard Java method. This feature is a further means (besides \texttt{MethodCallExpressions} for attribute values and
\texttt{Bindings}) of integrating hand-written Java code in SDMs.\footnote{It can lead to 'spaghetti' SDMs however, so please use with caution!}

As an example, consider a class \texttt{A} with an operation:
\begin{quote}
 \mbox{\texttt{doSomeCheck(p$_1$,\ldots,p$_n$ :EClass) :EBoolean}}
\end{quote}

This method could be implemented in hand-written Java code or be specified by another SDM specification.

Although dummy boolean attributes \emph{could} be used to achieve the same effect, it is much simpler to branch the control flow based on the result of a \texttt{StatementNode}.
If the method returns an \texttt{EBoolean}, \texttt{Success} and \texttt{Failure} correspond to \texttt{true} and \texttt{false}, respectively. If the method returns anything else, then \texttt{Failure} corresponds to \texttt{null}. Void methods \emph{cannot} be used to branch and an exception is thrown during code generation.

Figure~\ref{fig:cond_branch_on_op} depicts the class \texttt{A}, and shows how \texttt{doSomeCheck} is used to branch in an SDM.

\newpage

\vspace*{3cm}

\begin{figure}[htp]
\begin{center}
  \includegraphics[width=1.2\textwidth]{SDM_with_branch}
  \caption{Conditional branching based on the result of an operation}
  \label{fig:cond_branch_on_op}
\end{center}
\end{figure}

\fancyfoot[R]{ $\triangleright$ \hyperlink{conBran vis}{Next [visual]\hspace{0.2cm} } \\ $\triangleright$ \hyperlink{conBran tex}{Next [textual]} } 

\input{../10_conditionalBranching/visConBran}

\input{../10_conditionalBranching/texConBran}
