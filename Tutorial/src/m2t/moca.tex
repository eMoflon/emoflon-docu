\chapter{Model-to-Text with Moca}

There are many different kinds of model transformations [Ref1: Czarn, Ref2: van Gorb].

An interesting dimension is the source target relationship and if the models involved conform to the same metamodel i.e. endogenous (in-place or out-place) vs. exogenous (always out-place).

What we have seen till now are model transformations that manipulate a single model, therefore endogenous and in-place.  This is also the natural case for SDMs.

SDMs can however be also used for out-place transformations both endogenous and exogenous.

To see how this works we shall create another simple language for a Dictionary to complement our MemoryBox.  At the end of the Chapter we shall be able to transform dictionaries to memory boxes and vice-versa.  A dictionary is also used to learn new words or more general terms, but is more suitable to be used as a reference - i.e. one already knows most of the words and one just checks up single words now and then.  A memory box on the other hand is geared towards supporting the actual memorization process.  Ergo?  One could start with a memory box and, when all words have been memorized, transform it to a personalized dictionary for future reference.  If one notices that almost all words have been forgotten (typically after a long break) a dictionary can be transformed back to a memory box.  We shall see later on in the chapter, that this transformation is actually quite interesting, as one could for example use the history of cards or their difficulty level (fast cards are simple) to either annotate entries in the dictionary or pre-place cards appropriates when creating a memory box from scratch. 

To make things even more interesting, we shall also establish a textual concrete syntax for our dictionaries and explore how graph transformations can also be used, in combination with parser technology and template languages, to implement model-to-text and text-to-model transformations.



%\usepackage{graphics} is needed for \includegraphics
\begin{figure}[htp]
\begin{center}
 \includegraphics[width=\textwidth]{pics/moca/text-to-model}
  \caption{Overview of model-to-text with the MOCA framework}
  \label{moca-overview}
\end{center}
\end{figure} 

\input{m2t/antlr}

\input{m2t/mocaDictionaryMetaModel} 
 
%\input{mocaTextToMocaTree}

%\input{mocaMocaTreeToModel}

%\input{mocaHTML}
 
